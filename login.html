<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>謝爾夏｜登入/註冊</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="login.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
  <div class="center">
    <h2>謝爾夏</h2>

    <!-- 登入 -->
    <form id="login-form" autocomplete="on">
      <label for="login-email">電子信箱</label>
      <input type="email" id="login-email" name="email" placeholder="Email" autocomplete="username">
      <label for="login-password">密碼</label>
      <div class="input-group">
        <input type="password" id="login-password" placeholder="密碼" autocomplete="current-password">
        <span class="toggle-pw" onclick="togglePw('login-password', this)" title="顯示/隱藏密碼">(ΦωΦ)</span>
      </div>
      <button id="login-btn" type="button" onclick="signIn()">登入</button>
      <div class="switch-link" onclick="showSignUp()">我要註冊</div>
      <div class="switch-link" onclick="showForgot()">忘記密碼？</div>
      <div class="msg" id="login-msg"></div>
    </form>

    <!-- 註冊 -->
    <form id="signup-form" style="display:none" autocomplete="on">
      <label for="signup-username">玩家名稱</label>
      <input type="text" id="signup-username" placeholder="玩家名稱" autocomplete="nickname">
      <label for="signup-email">電子信箱</label>
      <input type="email" id="signup-email" name="email" placeholder="Email" autocomplete="username">
      <label for="signup-password">密碼</label>
      <div class="input-group">
        <input type="password" id="signup-password" placeholder="密碼" autocomplete="new-password">
        <span class="toggle-pw" onclick="togglePw('signup-password', this)" title="顯示/隱藏密碼">(ΦωΦ)</span>
      </div>
      <button id="signup-btn" type="button" onclick="signUp()">註冊</button>
      <div class="switch-link" onclick="showLogin()">返回登入</div>
      <div class="msg" id="signup-msg"></div>
    </form>

    <!-- 忘記密碼 -->
    <form id="forgot-form" style="display:none" onsubmit="handleForgot(event)" autocomplete="on">
      <label for="forgot-email">請輸入你的電子信箱</label>
      <input type="email" id="forgot-email" name="email" placeholder="Email" autocomplete="username">
      <button type="submit" id="forgot-btn">寄送重設信</button>
      <div class="switch-link" onclick="showLogin()">返回登入</div>
      <div class="msg" id="forgot-msg"></div>
    </form>
  </div>
  <script src="login.js"></script>
</body>
</html>
